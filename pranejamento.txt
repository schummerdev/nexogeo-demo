# Planejamento de Desenvolvimento: Sistema de Gerenciamento de Promoções

## Visão Geral do Projeto
Desenvolvimento de um sistema web sob medida para uma emissora de TV/Rádio registrar e gerenciar participações em promoções e sorteios. O sistema contará com uma tela de captura para o público e um painel administrativo completo para a equipe da emissora.

---

## Stack Tecnológica Recomendada
*   **Frontend:** React.js ou Vue.js
*   **Backend:** Node.js (com Express.js) ou PHP (com Laravel)
*   **Banco de Dados:** PostgreSQL (recomendado pela capacidade geoespacial) ou MySQL
*   **Hospedagem:** Vercel/Netlify (Frontend), Heroku/AWS/DigitalOcean (Backend & DB)

---

## Fases do Desenvolvimento (Sprints)

### Fase 0: Configuração e Arquitetura (O Alicerce)
1.  **Definição da Stack Tecnológica:** Escolha final das ferramentas.
2.  **Design do Banco de Dados:** Modelagem e criação do esquema SQL.
3.  **Configuração do Ambiente:** Setup dos repositórios (Git), ambiente de desenvolvimento local e ambiente de produção (staging/hospedagem).

### Fase 1: Funcionalidades Essenciais (MVP - Mínimo Produto Viável)
1.  **Backend (API):**
    *   Endpoint `POST /participantes`: Para receber e salvar novos cadastros.
    *   Endpoint `GET /promocoes/:id`: Para buscar detalhes de uma promoção pelo seu ID.
2.  **Frontend:**
    *   **Tela 1: Página de Captura do Participante:** Formulário, captura de dados da URL e geolocalização.
    *   **Tela 2: Página de Sucesso/Obrigado:** Mensagem de confirmação pós-cadastro.

### Fase 2: Painel Administrativo e Gerenciamento
1.  **Backend (API):**
    *   Endpoints de autenticação (Login/Logout) para administradores.
    *   Endpoints CRUD (Criar, Ler, Atualizar, Deletar) para `Promocoes`.
    *   Endpoints CRUD para `Participantes`.
    *   Endpoints para agregar dados para os gráficos do dashboard.
2.  **Frontend:**
    *   **Tela 3: Login do Administrador.**
    *   **Tela 4: Dashboard Principal:** Com KPIs, gráficos e mapa de calor.
    *   **Tela 5: Gerenciamento de Promoções:** Listagem, criação e edição.
    *   **Tela 6: Gerenciamento de Participantes:** Listagem, filtros e detalhes.

### Fase 3: Funcionalidades Avançadas e Interativas
1.  **Backend (API):**
    *   Endpoint para gerar links curtos e QR Codes.
    *   Endpoint para executar o sorteio de forma aleatória.
    *   Endpoint para registrar os ganhadores.
2.  **Frontend:**
    *   **Tela 7: Ferramenta de Geração de Links e QR Codes.**
    *   **Tela 8: Módulo de Sorteio Interativo:** Com animações e sons.
    *   **Tela 9: Configurações do Sistema:** Personalização de tema e dados da emissora.

---




Excelente! Optar por um sistema sob medida é a melhor decisão para ter total controle, personalização e escalabilidade. Um planejamento bem estruturado é a chave para o sucesso do desenvolvimento, especialmente ao usar ferramentas de IA para auxiliar na codificação.

Preparei um plano de desenvolvimento completo, dividido em fases, e a descrição detalhada de cada tela, como solicitado. Este guia servirá como um "mapa" para a construção do sistema.

### Plano de Desenvolvimento do Sistema de Promoções

Este plano segue uma abordagem ágil, dividindo o projeto em fases (Sprints) para entregar valor de forma incremental.

**Fase 0: Configuração e Arquitetura (O Alicerce)**

1.  **Definição da Stack Tecnológica:**
    *   **Frontend (O que o usuário vê):** **React.js** ou **Vue.js**. São modernos, rápidos e ótimos para criar interfaces interativas.
    *   **Backend (O cérebro do sistema):** **Node.js com Express.js** ou **PHP com Laravel**. Ambos são robustos para criar as APIs que conectarão o frontend ao banco de dados.
    *   **Banco de Dados:** **PostgreSQL** ou **MySQL**. PostgreSQL é excelente para lidar com dados geoespaciais.
    *   **Hospedagem:** Vercel (para o Frontend), Heroku ou AWS (para o Backend e Banco de Dados).

2.  **Design do Banco de Dados:**
    *   Criar o esquema com todas as tabelas e relacionamentos: `emisoras`, `usuarios_admin`, `promocoes`, `participantes`, `sorteios`, `ganhadores`.

3.  **Configuração do Ambiente de Desenvolvimento:**
    *   Inicializar os repositórios de código (Git).
    *   Configurar o ambiente local para o frontend e backend.
    *   Preparar o ambiente de produção (hospedagem).

---

**Fase 1: Funcionalidades Essenciais (O Mínimo Viável)**

1.  **Desenvolvimento do Backend (API):**
    *   Criar rotas (endpoints) para:
        *   `POST /participantes`: Receber e salvar um novo cadastro.
        *   `GET /promocoes/:id`: Buscar detalhes de uma promoção pelo ID do link.

2.  **Desenvolvimento do Frontend:**
    *   **Tela 1: Página de Captura do Participante.**
    *   Lógica para ler o ID da promoção e os parâmetros UTM da URL.
    *   Lógica para solicitar a geolocalização.
    *   Validação do formulário (nome e telefone obrigatórios).
    *   **Tela 2: Página de Sucesso/Obrigado.**

---

**Fase 2: Painel Administrativo e Gerenciamento**

1.  **Desenvolvimento do Backend (API):**
    *   Criar rotas seguras (com autenticação) para:
        *   Login/Logout de administradores.
        *   CRUD (Criar, Ler, Atualizar, Deletar) para `Promocoes`.
        *   CRUD para `Participantes`.
        *   Endpoints para buscar dados para os gráficos do dashboard.

2.  **Desenvolvimento do Frontend:**
    *   **Tela 3: Login do Administrador.**
    *   **Tela 4: Dashboard Principal.**
    *   **Tela 5: Gerenciamento de Promoções (Listar, Criar, Editar).**
    *   **Tela 6: Gerenciamento de Participantes (Listar, Filtrar, Ver Detalhes).**

---

**Fase 3: Funcionalidades Avançadas e Interativas**

1.  **Desenvolvimento do Backend (API):**
    *   Criar rotas para:
        *   Gerar links curtos e QR Codes associados a uma promoção e origem.
        *   Realizar o sorteio (buscar participantes de uma promoção e selecionar um aleatoriamente).
        *   Salvar o resultado do sorteio.

2.  **Desenvolvimento do Frontend:**
    *   **Tela 7: Ferramenta de Geração de Links e QR Codes.**
    *   **Tela 8: Módulo de Sorteio Interativo.**
    *   **Tela 9: Configurações do Sistema (Personalização de Tema).**

---

### Descrição Detalhada das Telas (Guia para a IA de Codificação)

Aqui está a descrição de cada tela, com seus componentes e funcionalidades, pronta para ser usada como prompt de desenvolvimento.

---

#### **Tela 1: Página de Captura do Participante**
*   **Objetivo:** Coletar os dados do participante de forma rápida e eficiente.
*   **Componentes:**
    *   **Logo da Emissora:** No topo, imagem carregada dinamicamente.
    *   **Título da Promoção:** `<h1>` com o nome da promoção (buscado via API a partir do ID na URL).
    *   **Descrição da Promoção:** `<p>` com os detalhes da promoção.
    *   **Formulário:**
        *   **Input (Texto):** "Nome Completo" (obrigatório).
        *   **Input (Telefone):** "WhatsApp" (com máscara `(99) 99999-9999`, obrigatório).
        *   **Input (Texto):** "Bairro".
        *   **Input (Texto):** "Cidade".
        *   **Botão (Submit):** "QUERO PARTICIPAR!".
*   **Lógica Oculta:**
    *   Ao carregar, a página extrai o `id_promocao` e os parâmetros `utm_source`, `utm_medium` da URL.
    *   Ao carregar, dispara a API de geolocalização do navegador (`navigator.geolocation.getCurrentPosition`). Se o usuário permitir, armazena a latitude e longitude.
    *   Ao submeter o formulário, envia todos os dados (visíveis e ocultos) para a API (`POST /participantes`).
    *   Após o envio com sucesso, redireciona para a **Tela 2**.

---

#### **Tela 2: Página de Sucesso/Obrigado**
*   **Objetivo:** Confirmar a participação e agradecer ao usuário.
*   **Componentes:**
    *   **Ícone de Check (✓):** Grande e na cor verde.
    *   **Título:** `<h1>` "Participação Confirmada!".
    *   **Texto:** `<p>` "Boa sorte! Agora é só ficar ligado na nossa programação para saber o resultado do sorteio.".
    *   **Links para Redes Sociais:** Ícones do Instagram, Facebook, YouTube da emissora.

---

#### **Tela 3: Login do Administrador**
*   **Objetivo:** Proteger o acesso ao painel administrativo.
*   **Componentes:**
    *   **Logo da Emissora.**
    *   **Título:** "Painel de Controle".
    *   **Formulário:**
        *   **Input (Email):** "E-mail".
        *   **Input (Senha):** "Senha".
        *   **Botão (Submit):** "Entrar".
*   **Lógica:**
    *   Envia as credenciais para a API de autenticação. Em caso de sucesso, armazena o token de acesso e redireciona para a **Tela 4 (Dashboard)**.

---

#### **Tela 4: Dashboard Principal**
*   **Objetivo:** Fornecer uma visão geral e rápida do desempenho das promoções.
*   **Layout:** Um menu lateral persistente (com links para Dashboard, Promoções, Participantes, etc.) e uma área de conteúdo principal.
*   **Componentes na Área de Conteúdo:**
    *   **Título:** "Dashboard".
    *   **Cards de KPIs (Indicadores):**
        *   "Total de Participantes (Hoje)".
        *   "Total de Participantes (Geral)".
        *   "Promoções Ativas".
    *   **Gráfico de Linhas:** "Participações por Hora (Últimas 24h)". Eixo X com as horas, Eixo Y com o número de cadastros.
    *   **Gráfico de Pizza:** "Origem dos Cadastros". Fatias para "QR Code TV", "Facebook", "Instagram", etc.
    *   **Mapa Interativo:** "Mapa de Calor da Audiência". Mostra o mapa com as manchas de calor baseadas na geolocalização dos participantes.

---

#### **Tela 5: Gerenciamento de Promoções**
*   **Objetivo:** Permitir que a equipe crie e gerencie as promoções.
*   **Componentes:**
    *   **Botão:** "+ Nova Promoção".
    *   **Tabela de Promoções:**
        *   **Colunas:** Nome, Data de Início, Data de Fim, Status (Ativa/Inativa), Ações.
        *   **Ações (Botões):** Editar, Ver Participantes, Gerar Link.
    *   **Modal/Página de Criação/Edição:**
        *   **Formulário:** Nome da Promoção, Descrição, Data de Início, Data de Fim.
        *   **Botão:** "Salvar Promoção".

---

#### **Tela 6: Gerenciamento de Participantes**
*   **Objetivo:** Consultar e gerenciar os dados dos participantes.
*   **Componentes:**
    *   **Filtros:** Campos para filtrar por Promoção, Nome, Telefone, Cidade.
    *   **Botão:** "Exportar para Excel (CSV)".
    *   **Tabela de Participantes:**
        *   **Colunas:** Nome, Telefone, Bairro, Cidade, Promoção, Data/Hora, Origem.
        *   **Ações:** Ver Detalhes/Editar.

---

#### **Tela 7: Ferramenta de Geração de Links e QR Codes**
*   **Objetivo:** Facilitar a criação de materiais de divulgação rastreáveis.
*   **Componentes:**
    *   **Título:** "Gerador de Links de Divulgação".
    *   **Formulário:**
        *   **Dropdown:** "Selecione a Promoção".
        *   **Input (Texto):** "Origem (utm_source)" (ex: facebook).
        *   **Input (Texto):** "Mídia (utm_medium)" (ex: post, stories).
        *   **Botão:** "Gerar".
    *   **Área de Resultado:**
        *   **Link Curto Gerado:** `suaradio.com/p/xyz123` (com botão para copiar).
        *   **Imagem do QR Code:** Gerado dinamicamente e com botão para download.

---

#### **Tela 8: Módulo de Sorteio Interativo**
*   **Objetivo:** Criar uma experiência de sorteio ao vivo engajante.
*   **Design:** Tela cheia, com fontes grandes e elementos centrados.
*   **Componentes:**
    *   **Passo 1 (Seleção):**
        *   **Dropdown:** "Selecione a Promoção para Sortear".
        *   **Botão:** "Carregar Participantes e Iniciar".
    *   **Passo 2 (Sorteio):**
        *   **Fundo:** Pode ter uma animação sutil.
        *   **Texto:** "Clique no botão para sortear!".
        *   **Botão Gigante no Centro:** "SORTEAR".
    *   **Passo 3 (Animação):**
        *   Ao clicar, o som de suspense toca e uma animação de nomes passando rapidamente (efeito caça-níquel) é exibida.
    *   **Passo 4 (Resultado):**
        *   A animação para. O som de comemoração toca.
        *   **Texto do Ganhador (em destaque e gigante):**
            *   Nome: "JOÃO DA SILVA"
            *   Dados: "Telefone: (XX) XXXXX-XX99, Bairro: Centro" (dados mascarados por privacidade).
        *   **Botões:** "Sortear Novamente" e "Finalizar Sorteio".

---

#### **Tela 9: Configurações do Sistema**
*   **Objetivo:** Permitir a personalização do painel.
*   **Componentes:**
    *   **Título:** "Configurações".
    *   **Seção "Dados da Emissora":**
        *   Input para Nome da Emissora.
        *   Upload de Logo.
    *   **Seção "Aparência do Painel":**
        *   **Seleção de Tema:** Botões ou amostras de cores para escolher entre os temas (Branco, Preto, Azul, Verde, Rosa). A seleção altera a aparência do painel em tempo real.
    *   **Botão:** "Salvar Alterações".
